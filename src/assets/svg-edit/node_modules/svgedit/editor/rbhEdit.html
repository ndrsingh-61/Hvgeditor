<!DOCTYPE html>
<html>

<head>
  <link rel="stylesheet" href="css/jPicker.css" type="text/css" />
  <link rel="stylesheet" href="css/rbh.css" type="text/css" />
  <link rel="stylesheet" href="css/fonts.css" type="text/css" />
  <script type="text/javascript" src="lib/jquery.js"></script>
  <script type="text/javascript" src="lib/jpicker.min.js"></script>
  <script type="text/javascript" src="src/browser.js"></script>
  <script type="text/javascript" src="src/math.js"></script>
  <script type="text/javascript" src="src/svgutils.js"></script>
  <script type="text/javascript" src="src/select.js"></script>
  <script type="text/javascript" src="src/svgcanvas.js"></script>
  <script type="text/javascript" src="src/rbhEdit.js"></script>
  <script type="text/javascript" src="lib/jquery-draginput.js"></script>
  <script type="text/javascript" src="lib/mousewheel.js"></script>
  <script type="text/javascript" src="lib/ext-shapes.js"></script>
  <script type="text/javascript" src="lib/pathseg.js"></script>
  <script type="text/javascript" src="lib/path.js"></script>
</head>

<body>

  <div id="svg_editor" class="svg_editor_top">
    <div id="rulers">
      <div id="ruler_corner"></div>
      <div id="ruler_x">
        <div id="ruler_x_cursor"></div>
        <div>
          <canvas height="15"></canvas>
        </div>
      </div>
      <div id="ruler_y">
        <div id="ruler_y_cursor"></div>
        <div>
          <canvas width="15"></canvas>
        </div>
      </div>
    </div>
    <div id="workarea">
      <div id="svgcanvas" style="position:relative"></div>
    </div>
    <div id="menu_bar">
      <div class="menu">
        <div class="logo" id="logo"></div>
      </div>
      <div class="menu">
        <div class="menu_title">File</div>
        <div class="menu_list" id="File_menu">
          <div class="menu_item action_selected disabled" id="tool_new_document">New Document</div>
          <div class="menu_item action_selected disabled" id="tool_imports">Import value <span
              class="shortcut">⌘S</span></div>
          <form method="post" id="source">
            <input type="submit" value="View" />
          </form>
          <div class="menu_item action_selected disabled" id="tool_export">Export as SVG</div>
        </div>
      </div>
      <div class="menu">
        <div class="menu_title">Edit</div>
        <div class="menu_list" id="edit_menu">
          <div class="menu_item action_selected disabled" data-action="undo" id="tool_undo" style>Undo<span
              class="shortcut">Ctrl+Z</span></div>
          <div class="menu_item action_selected disabled" data-action="redo" id="tool_redo" style>Redo<span
              class="shortcut">Ctrl+Y</span></div>
          <div class="separator"></div>
          <div class="menu_item action_selected disabled" id="tool_cut">Cut <span class="shortcut">⌘X</span></div>
          <div class="menu_item action_selected disabled" id="tool_copy">Copy <span class="shortcut">⌘C</span></div>
          <div class="menu_item action_selected disabled" id="tool_paste">Paste <span class="shortcut">⌘V</span></div>
          <div class="menu_item action_selected disabled" id="tool_save">Save <span class="shortcut">⌘S</span></div>
          <div class="menu_item action_selected disabled" id="tool_clone">Duplicate <span class="shortcut">⌘D</span>
          </div>
          <div class="menu_item action_selected disabled" id="tool_delete">Delete <span>⌫</span></div>
        </div>
      </div>
      <div class="menu">
        <div class="menu_title">Object</div>
        <div class="menu_list" id="object_menu">
          <div class="menu_item action_selected disabled" id="tool_move_top">Bring to Front<span
              class="shortcut">⌘⇧↑</span></div>
          <div class="menu_item action_selected disabled" id="tool_move_up">Bring Forward<span
              class="shortcut">⌘↑</span> </div>
          <div class="menu_item action_selected disabled" id="tool_move_down">Send Backward<span
              class="shortcut">⌘↓</span></div>
          <div class="menu_item action_selected disabled" id="tool_move_bottom">Send to Back<span
              class="shortcut">⌘⇧↓</span></div>
          <div class="separator"></div>
          <div class="menu_item action_multi_selected disabled" id="tool_group">Group Elements <span
              class="shortcut">⌘G</span></div>
          <div class="menu_item action_group_selected disabled" id="tool_ungroup">Ungroup Elements <span
              class="shortcut">⌘⇧G</span></div>
          <div class="separator"></div>
          <div class="menu_item action_path_convert_selected" id="tool_topath">Convert to Path</div>
          <div class="menu_item action_selected disabled" id="tool_saveselected">Save CustomShape</div>
        </div>
      </div>
      <div class="menu open">
        <div class="menu_title">View</div>
        <div class="menu_list inverted-undo" id="view_menu">
          <div class="menu_item" id="tool_wireframe">View Wireframe</div>
          <div class="separator"></div>
          <form method="post" class="fas fa-source" id="source">
            <input type="submit" value="Source" />
          </form>
        </div>
      </div>
      <div class="menu open">
        <div class="menu_title">Design View</div>
        <div class="menu_list inverted-undo" id="view_menu">
          <div class="menu_item" id="tools_properties">Properties</div>
        </div>
      </div>
    </div>
    <div id="resizer" class="container_1">
      <div class="head_1">tools
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">×</a>
      </div>
      <div class="main_div">
        <div class="div_content">
          <div id="General">
            <div id="General_tab">
              <div style="margin-left:25%;">
                <h2>General Settings</h2>
              </div>
              <div style="margin-left:10%;">
                <label for="email">Data Path</label>
                <input type="text" class="Properties_value" id="general_data_path" placeholder="data-path">
                <label for="email">Data Constantval</label>
                <input type="text" class="Properties_value" id="general_data_constantval"
                  placeholder="data-constantval">
                <button type="button" id="add" value="Add" class="btn_add" onclick="javascript:add();">Add</button>
                <div id="reqs" style="height:40%; overflow-y: scroll;">
                </div>
              </div>
            </div>
          </div>
          <div id="Data_Element">
            <div style="margin-left:25%;">
              <h2>Data Element Setting</h2>
            </div>
            <div style="margin-left:10%;">
              <label for="email">Name</label>
              <input type="text" class="Properties_value" id="data_element_name" placeholder="Name">
              <label for="email">Type</label>
              <input type="text" class="Properties_value" id="data_element_type" placeholder="Type">
              <label for="email">Target</label>
              <input type="text" class="Properties_value" id="data_element_target" placeholder="Target">
            </div>
          </div>
          <div id="Data_selection">
            <div style="margin-left:25%;">
              <h2>Data Selection Settings</h2>
            </div>
            <div style="margin-left:10%;">
              <label for="email">Type</label>
              <input type="text" class="Properties_value" id="data_selection_type" placeholder="Type">
              <label for="email">Target</label>
              <input type="text" class="Properties_value" id="data_selection_target" placeholder="Target">
              <label for="email">X-Axis</label>
              <input type="text" class="Properties_value" id="data_selection_xaxis" placeholder="X-Axis">
              <label for="email">Y-Axis</label>
              <input type="text" class="Properties_value" id="data_selection_yaxis" placeholder="Y-Axis">
              <label for="email">Width</label>
              <input type="text" class="Properties_value" id="data_element_width" placeholder="Width">
              <label for="email">Height</label>
              <input type="text" class="Properties_value" id="data_element_height" placeholder="Height">
            </div>
          </div>
        </div>
        <ul class="ol_list" id="tab_settings">
          <li>
            <span class="list_paragrph_hvr list_paragrph" id="tools_properties_Save">Save
            </span>
          </li>
          <li>
            <span class="list_paragrph_hvr list_paragrph" id="li_general">General</span>
          </li>
          <li>
            <span class="list_paragrph_hvr list_paragrph" id="li_dataelement">Data Element</span>
          </li>
          <li>
            <span class="list_paragrph_hvr list_paragrph" id="li_dataselection">Data Selection</span>
          </li>
        </ul>
      </div>
    </div>

    <div style="z-index: 1;" id="tools_top" class="tools_panel">
      <div id="canvas_panel" class="context_panel">
        <h4 class="clearfix">Canvas</h4>
        <label data-title="Change canvas width">
          <span class="span_highlight"></span>
          <input size="3" id="canvas_width" type="text" pattern="[0-9]*" />
          <span class="icon_label">Width</span>
        </label>
        <label data-title="Change canvas height">
          <span class="span_highlight"></span>
          <input id="canvas_height" size="3" type="text" pattern="[0-9]*" />
          <span class="icon_label">Height</span>
        </label>
        <label data-title="Change canvas color" class="draginput">
          <span class="span_highlight"></span>
          <span>Color</span>
          <div id="color_canvas_tools">
            <div class="color_tool active" id="tool_canvas">
              <div class="color_block">
                <div id="canvas_bg"></div>
                <div id="canvas_color"></div>
              </div>
            </div>
          </div>
        </label>
        <div class="draginput">
          <span class="span_highlight"></span>
          <span>Sizes</span>
          <select id="resolution" class="custom-dropdown">
            <option id="selectedPredefined" selected="selected">Custom</option>
            <option>640x480</option>
            <option>800x600</option>
            <option>1024x768</option>
            <option>1280x960</option>
            <option>1600x1200</option>
            <option id="fitToContent" value="content">Fit to Content</option>
          </select>
          <div class="caret"></div>
          <label id="resolution_label">Custom</label>
        </div>
      </div>
      <div id="path_panel" class="context_panel">
        <h4 class="clearfix">Path</h4>
        <label class="draginput" data-value="209">
          <span class="span_highlight"></span>
          <input id="path_x" class="attr_changer" data-title="Change ellipse's cx coordinate" size="3" data-attr="x"
            pattern="[0-9]*" autocomplete="off" readonly="readonly" data-scale="2.857142857142857" data-domain="70"
            data-cursor="false">
          <span>X</span>
        </label>
        <label class="draginput">
          <span class="span_highlight"></span>
          <input id="path_y" class="attr_changer" data-title="Change ellipse's cy coordinate" size="3" data-attr="y"
            pattern="[0-9]*" autocomplete="off" readonly="readonly" data-scale="2.857142857142857" data-domain="70"
            data-cursor="false">
          <span>Y</span>
        </label>
      </div>
      <div id="rect_panel" class="context_panel">
        <h4 class="clearfix">Rectangle</h4>
        <label>
          <span class="span_highlight"></span>
          <input id="rect_x" class="attr_changer" data-title="Change X coordinate" size="3" data-attr="x"
            pattern="[0-9]*" />
          <span>X</span>
        </label>
        <label>
          <span class="span_highlight"></span>
          <input id="rect_y" class="attr_changer" data-title="Change Y coordinate" size="3" data-attr="y"
            pattern="[0-9]*" />
          <span>Y</span>
        </label>
        <label id="rect_width_tool attr_changer" data-title="Change rectangle width">
          <span class="span_highlight"></span>
          <input id="rect_width" class="attr_changer" size="3" data-attr="width" type="text" pattern="[0-9]*" />
          <span class="icon_label">Width</span>
        </label>
        <label id="rect_height_tool" data-title="Change rectangle height">
          <span class="span_highlight"></span>
          <input id="rect_height" class="attr_changer" size="3" data-attr="height" type="text" pattern="[0-9]*" />
          <span class="icon_label">Height</span>
        </label>
      </div>
      <div id="circle_panel" class="context_panel">
        <h4>Circle</h4>
        <label id="tool_circle_cx">
          <span class="span_highlight"></span>
          <span>Center X</span>
          <input id="circle_cx" class="attr_changer" title="Change circle's cx coordinate" size="3" data-attr="cx" />
        </label>
        <label id="tool_circle_cy">
          <span class="span_highlight"></span>
          <span>Center Y</span>
          <input id="circle_cy" class="attr_changer" title="Change circle's cy coordinate" size="3" data-attr="cy" />
        </label>
        <label id="tool_circle_r">
          <span class="span_highlight"></span>
          <span>Radius</span>
          <input id="circle_r" class="attr_changer" title="Change circle's radius" size="3" data-attr="r" />
        </label>
      </div>
      <div id="line_panel" class="context_panel clearfix">
        <h4>Line</h4>
        <label id="tool_line_x1">
          <span class="span_highlight"></span>
          <input id="line_x1" class="attr_changer" data-title="Change line's starting x coordinate" size="3"
            data-attr="x1" pattern="[0-9]*" />
          <span>Start X</span>
        </label>
        <label id="tool_line_y1">
          <span class="span_highlight"></span>
          <input id="line_y1" class="attr_changer" data-title="Change line's starting y coordinate" size="3"
            data-attr="y1" pattern="[0-9]*" />
          <span>Start Y</span>
        </label>
        <label id="tool_line_x2">
          <span class="span_highlight"></span>
          <input id="line_x2" class="attr_changer" data-title="Change line's ending x coordinate" size="3"
            data-attr="x2" pattern="[0-9]*" />
          <span>End X</span>
        </label>
        <label id="tool_line_y2">
          <span class="span_highlight"></span>
          <input id="line_y2" class="attr_changer" data-title="Change line's ending y coordinate" size="3"
            data-attr="y2" pattern="[0-9]*" />
          <span>End Y</span>
        </label>
      </div>
      <div id="text_panel" class="context_panel">
        <h4>Text</h4>
        <label>
          <span class="span_highlight"></span>
          <input id="text_x" class="attr_changer" data-title="Change text x coordinate" size="3" data-attr="x"
            pattern="[0-9]*" />
          <span>X</span>
        </label>
        <label>
          <span class="span_highlight"></span>
          <input id="text_y" class="attr_changer" data-title="Change text y coordinate" size="3" data-attr="y"
            pattern="[0-9]*" />
          <span>Y</span>
        </label>


        <div class="toolset draginput select twocol" id="tool_font_family">
          <span class="span_highlight"></span>
          <span>Font</span>
          <div id="preview_font" style="font-family: Helvetica, Arial, sans-serif;">Helvetica</div>
          <div class="caret"></div>
          <input id="font_family" data-title="Change Font Family" size="12" type="hidden" />
          <select id="font_family_dropdown">
            <option value="Arvo, sans-serif">Arvo</option>
            <option value="'Courier New', Courier, monospace">Courier</option>
            <option value="Euphoria, sans-serif">Euphoria</option>
            <option value="Georgia, Times, 'Times New Roman', serif">Georgia</option>
            <option value="Helvetica, Arial, sans-serif" selected="selected">Helvetica</option>
            <option value="Junction, sans-serif">Junction</option>
            <option value="'League Gothic', sans-serif">League Gothic</option>
            <option value="Oswald, sans-serif">Oswald</option>
            <option value="'Palatino Linotype', 'Book Antiqua', Palatino, serif">Palatino</option>
            <option value="'Trebuchet MS', Gadget, sans-serif">Trebuchet</option>
            <option value="'Shadows Into Light', serif">Shadows Into Light</option>
            <option value="'Simonetta', serif">Simonetta</option>
            <option value="'Times New Roman', Times, serif">Times</option>
          </select>
          <div class="tool_button" id="tool_bold" data-title="Bold Text [B]">B</div>
          <div class="tool_button" id="tool_italic" data-title="Italic Text [I]">i</div>
        </div>

        <label id="tool_font_size" data-title="Change Font Size">
          <span class="span_highlight"></span>
          <input id="font_size" size="3" value="0" />
          <span id="font_sizeLabel" class="icon_label">Font Size</span>
        </label>
        <input id="text" type="text" size="35" />
      </div>
      <div id="selected_panel" class="context_panel">
        <label id="tool_angle" data-title="Change rotation angle" class="draginput">
          <input id="angle" class="attr_changer" size="2" value="0" data-attr="transform" data-min="-180" data-max="180"
            type="text" />
          <span class="icon_label">Rotation</span>
          <span class="span_highlight"></span>
          <div id="tool_angle_indicator">
            <div id="tool_angle_indicator_cursor"></div>
          </div>
        </label>
        <label class="toolset" id="tool_opacity" data-title="Change selected item opacity">
          <span class="span_highlight"></span>
          <input id="group_opacity" class="attr_changer" data-attr="opacity" data-multiplier="0.01" size="3" value="100"
            step="5" min="0" max="100" />
          <span id="group_opacityLabel" class="icon_label">Opacity</span>
        </label>

        <div class="toolset" id="tool_blur" data-title="Change gaussian blur value">
          <label>
            <span class="span_highlight"></span>
            <input id="blur" size="2" value="0" step=".1" min="0" max="10" />
            <span class="icon_label">Blur</span>
          </label>
        </div>

        <label id="cornerRadiusLabel" data-title="Change Rectangle Corner Radius">
          <span class="span_highlight"></span>
          <input id="rect_rx" size="3" value="0" data-attr="rx" class="attr_changer" type="text" pattern="[0-9]*" />
          <span class="icon_label">Roundness</span>
        </label>
        <div class="clearfix"></div>
        <div id="align_tools">
          <h4>Align</h4>
          <div class="toolset align_buttons" id="tool_position">
            <label>
              <div class="col last clear" id="position_opts">
                <div class="draginput_cell" id="tool_posleft" title="Align Left"></div>
                <div class="draginput_cell" id="tool_poscenter" title="Align Center"></div>
                <div class="draginput_cell" id="tool_posright" title="Align Right"></div>
                <div class="draginput_cell" id="tool_postop" title="Align Top"></div>
                <div class="draginput_cell" id="tool_posmiddle" title="Align Middle"></div>
                <div class="draginput_cell" id="tool_posbottom" title="Align Bottom"></div>
              </div>
            </label>

          </div>
        </div>
      </div>


      <div id="multiselected_panel" class="context_panel clearfix">
        <h4 class="hidable">Multiple Elements</h4>
        <div class="toolset align_buttons" style="position: relative">
          <label id="tool_align_relative" style="margin-top: 10px;">
            <select id="align_relative_to" title="Align relative to ...">
              <option id="selected_objects" value="selected">Align to objects</option>
              <option id="page" value="page">Align to page</option>
            </select>
          </label>
          <h4>.</h4>
          <div class="col last clear">
            <div class="draginput_cell" id="tool_alignleft" title="Align Left"></div>
            <div class="draginput_cell" id="tool_aligncenter" title="Align Center"></div>
            <div class="draginput_cell" id="tool_alignright" title="Align Right"></div>
            <div class="draginput_cell" id="tool_aligntop" title="Align Top"></div>
            <div class="draginput_cell" id="tool_alignmiddle" title="Align Middle"></div>
            <div class="draginput_cell" id="tool_alignbottom" title="Align Bottom"></div>
          </div>
        </div>
        <div class="clearfix"></div>
      </div>
      <div id="stroke_panel" class="context_panel clearfix">
        <div class="clearfix"></div>
        <h4>Stroke</h4>
        <div class="toolset" data-title="Change stroke">
          <label>
            <span class="span_highlight"></span>
            <input id="stroke_width" size="2" value="5" data-attr="stroke-width" min="0" max="99" step="1" />
            <span class="icon_label">Width</span>
          </label>
        </div>
        <div class="stroke_tool draginput">
          <span class="span_highlight"></span>
          <span>Dash</span>
          <select id="stroke_style" data-title="Change stroke dash style">
            <option selected="selected" value="none">—</option>
            <option value="2,2">···</option>
            <option value="5,5">- -</option>
            <option value="5,2,2,2">-·-</option>
            <option value="5,2,2,2,2,2">-··-</option>
          </select>
          <div class="caret"></div>
          <label id="stroke_style_label">—</label>
        </div>
      </div>
    </div>

    <div id="cur_context_panel"> </div>
    <div id="tools_left" class="tools_panel">
      <div class="tool_button" id="tool_select" data-mode="select" title="Select Tool [V]"></div>
      <div class="tool_button" id="tool_line" title="Line Tool [L]"></div>
      <div class="tool_button" id="tool_rect" title="Square/Rect Tool [R]"></div>
      <div class="tool_button" id="tool_circle" title="Circle Tool [C]"></div>
      <div class="tool_button" id="tool_text" title="Text Tool [T]"></div>
      <div class="tool_button" id="tool_zoom" title="Zoom Tool [Z]"></div>
      <!--class for zoom-->
      <div id="color_tools">
        <div id="tool_switch" title="Switch stroke and fill colors [X]"></div>
        <div class="color_tool active" id="tool_fill">
          <label class="icon_label" title="Change fill color"></label>
          <div class="color_block">
            <div id="fill_bg"></div>
            <div id="fill_color" class="color_block"></div>
          </div>
        </div>
        <div class="color_tool" id="tool_stroke">
          <label class="icon_label" title="Change stroke color"></label>
          <div class="color_block">
            <div id="stroke_bg"></div>
            <div id="stroke_color" class="color_block" title="Change stroke color"></div>
          </div>
        </div>
      </div>
    </div>

    <div id="tools_bottom" class="tools_panel">
      <div id="zoom_panel" class="toolset" title="Change zoom level">
        <div class="draginput select" id="zoom_label">
          <span id="zoomLabel" class="zoom_tool icon_label"></span>
          <select id="zoom_select">
            <option value="12">12%</option>
            <option value="16">16%</option>
            <option value="25">25%</option>
            <option value="50">50%</option>
            <option value="75">75%</option>
            <option value="100" selected="selected">100%</option>
            <option value="150">150%</option>
            <option value="200">200%</option>
            <option value="300">300%</option>
            <option value="400">400%</option>
            <option value="600">600%</option>
            <option value="800">800%</option>
            <option value="1600">1600%</option>
          </select>
          <div class="caret"></div>
          <input id="zoom" size="3" value="100%" type="text" readonly="readonly" />
        </div>
      </div>
      <div id="tools_bottom_3">
        <div id="palette" title="Click to change fill color, shift-click to change stroke color"></div>
      </div>
    </div>
    <div id="tools_bottom_3" class="tools_bottom_3">
    </div>

    <!-- hidden divs -->
    <div id="color_picker"></div>
  </div>
  <div id="dialog_box">
    <div id="dialog_box_overlay"></div>
    <div id="dialog_container">
      <div id="dialog_content"></div>
      <div id="dialog_buttons" style="float: right;"></div>
    </div>
  </div>
  <div id="confirmBox" style="border-bottom: solid rgb(241, 93, 39) 5px;
      border-top: solid rgb(241, 93, 39) 2px;">
    <textarea id="myTextarea" rows="4" cols="50" style="height: 80% ;width: 100%; overflow: scroll;"> </textarea>
    <div class="message"></div>
    <span class="button yes">Proceed</span>
    <span class="button no">Cancel</span>
  </div>
  <script>
    window.setTimeout(function () {
      $("#tools_shapelib_show").click(function () {
        debugger;
        if ($("#tools_shapelib").css('display') == 'none') {
          $("#tools_shapelib").css("display", "block");
        }
        else {
          $("#tools_shapelib").css("display", "none");
        }
      });
    }, 1000);
    function addcustomshape(path, shape, type, svgcontent) {
      var jsonvalue = {
        "Path": path, "Name": shape,
        "stroke": svgcontent.hasAttribute('stroke') ? svgcontent.getAttribute('stroke') : '#000000',
        "strokewidth": svgcontent.hasAttribute('stroke-width') ? svgcontent.getAttribute('stroke-width') : '1.5',
        "fill": svgcontent.hasAttribute('fill') ? svgcontent.getAttribute('fill') : '#ffffff',
        "strokedasharray": svgcontent.hasAttribute('stroke-dasharray') ? svgcontent.getAttribute('stroke-dasharray') : 'none'
      };
      $.ajax({
        url: type == "update" ? 'https://localhost:44311/api/employees/updatecustomshape' :
          'https://localhost:44311/api/employees/addcustpomshape',
        type: 'POST',
        processData: false,
        contentType: 'application/json',
        data: JSON.stringify(jsonvalue)
      });
    }
    function closeNav() {
      document.getElementById("resizer").style.width = "0";
    }

  </script>

</body>

</html>